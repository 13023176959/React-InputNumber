{"ast":null,"code":"import _objectWithoutProperties from \"/Users/weiyun/wy_code/react_work/react_work/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/weiyun/wy_code/react_work/react_work/src/react-controls/InputNumber/Input.js\";\n\n/**\n * Created by weiyun on 2019/11/5.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      focus: false,\n      innerValue: ''\n    };\n  }\n\n  get isControl() {\n    return 'value' in this.props;\n  }\n\n  get value() {\n    if (this.isControl) {\n      return this.props.value;\n    } else {\n      return this.state.innerValue;\n    }\n  }\n\n  render() {\n    const foucs = this.state.foucs;\n\n    const _this$props = this.props,\n          onChange = _this$props.onChange,\n          _this$props$rule = _this$props.rule,\n          rule = _this$props$rule === void 0 ? new RegExp() : _this$props$rule,\n          message = _this$props.message,\n          rest = _objectWithoutProperties(_this$props, [\"onChange\", \"rule\", \"message\"]);\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: this.value,\n      onFocus: e => {\n        this.setState({\n          focus: true\n        });\n      },\n      onBlur: e => {\n        this.setState({\n          focus: false\n        });\n      },\n      onChange: e => {\n        if (!this.isControl) {\n          this.setState({\n            innerValue: e.target.value\n          });\n        }\n\n        this.props.onChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, !rule.test(this.value) && message));\n  }\n\n  componentDidMount() {\n    this.setState({\n      innerValue: this.props.defaultValue\n    });\n  }\n\n}\n\nInput.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\nInput.defaultProps = {\n  onChange: () => {}\n};\nexport default Input;","map":{"version":3,"sources":["/Users/weiyun/wy_code/react_work/react_work/src/react-controls/InputNumber/Input.js"],"names":["React","Component","PropTypes","Input","constructor","props","state","focus","innerValue","isControl","value","render","foucs","onChange","rule","RegExp","message","rest","e","setState","target","test","componentDidMount","defaultValue","propTypes","string","func","defaultProps"],"mappings":";;;AAAA;;;AAGA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,KAAN,SAAoBF,SAApB,CAA6B;AACzBG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAC,KADG;AAETC,MAAAA,UAAU,EAAC;AAFF,KAAb;AAIH;;AAQD,MAAIC,SAAJ,GAAe;AACX,WAAO,WAAW,KAAKJ,KAAvB;AACH;;AACD,MAAIK,KAAJ,GAAW;AACP,QAAG,KAAKD,SAAR,EAAkB;AACd,aAAO,KAAKJ,KAAL,CAAWK,KAAlB;AACH,KAFD,MAEK;AACD,aAAO,KAAKJ,KAAL,CAAWE,UAAlB;AACH;AACJ;;AACDG,EAAAA,MAAM,GAAE;AAAA,UAEAC,KAFA,GAGF,KAAKN,KAHH,CAEAM,KAFA;;AAAA,wBASF,KAAKP,KATH;AAAA,UAKAQ,QALA,eAKAA,QALA;AAAA,yCAMAC,IANA;AAAA,UAMAA,IANA,iCAMM,IAAIC,MAAJ,EANN;AAAA,UAOAC,OAPA,eAOAA,OAPA;AAAA,UAQGC,IARH;;AAUJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AACI,MAAA,KAAK,EAAE,KAAKP,KADhB;AAEI,MAAA,OAAO,EAAEQ,CAAC,IAAI;AACV,aAAKC,QAAL,CAAc;AAACZ,UAAAA,KAAK,EAAE;AAAR,SAAd;AAEH,OALL;AAMI,MAAA,MAAM,EAAEW,CAAC,IAAI;AACT,aAAKC,QAAL,CAAc;AAACZ,UAAAA,KAAK,EAAE;AAAR,SAAd;AAEH,OATL;AAUI,MAAA,QAAQ,EAAGW,CAAD,IAAO;AACb,YAAG,CAAC,KAAKT,SAAT,EAAmB;AACf,eAAKU,QAAL,CAAc;AACVX,YAAAA,UAAU,EAAEU,CAAC,CAACE,MAAF,CAASV;AADX,WAAd;AAGH;;AACD,aAAKL,KAAL,CAAWQ,QAAX,CAAoBK,CAApB;AACH,OAjBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAsBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAACJ,IAAI,CAACO,IAAL,CAAU,KAAKX,KAAf,CAAD,IAA0BM,OAD/B,CAtBJ,CADJ;AA6BH;;AACDM,EAAAA,iBAAiB,GAAG;AAChB,SAAKH,QAAL,CAAc;AACVX,MAAAA,UAAU,EAAE,KAAKH,KAAL,CAAWkB;AADb,KAAd;AAGH;;AArEwB;;AAAvBpB,K,CAQKqB,S,GAAY;AACfd,EAAAA,KAAK,EAACR,SAAS,CAACuB,MADD;AAEfZ,EAAAA,QAAQ,EAACX,SAAS,CAACwB;AAFJ,C;AARjBvB,K,CAYKwB,Y,GAAe;AAClBd,EAAAA,QAAQ,EAAC,MAAI,CAAE;AADG,C;AA4D1B,eAAeV,KAAf","sourcesContent":["/**\n * Created by weiyun on 2019/11/5.\n */\nimport React,{Component} from 'react'\nimport PropTypes from 'prop-types'\n\nclass Input extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            focus:false,\n            innerValue:''\n        }\n    }\n    static propTypes = {\n        value:PropTypes.string,\n        onChange:PropTypes.func\n    }\n    static defaultProps = {\n        onChange:()=>{}\n    }\n    get isControl(){\n        return 'value' in this.props\n    }\n    get value(){\n        if(this.isControl){\n            return this.props.value\n        }else{\n            return this.state.innerValue\n        }\n    }\n    render(){\n        const{\n            foucs\n        }=this.state\n        const {\n            onChange,\n            rule= new RegExp(),\n            message,\n            ...rest\n        }=this.props\n        return (\n            <div>\n                <div>\n                    <input\n                        value={this.value}\n                        onFocus={e => {\n                            this.setState({focus: true\n                            })\n                        }}\n                        onBlur={e => {\n                            this.setState({focus: false\n                            })\n                        }}\n                        onChange={(e) => {\n                            if(!this.isControl){\n                                this.setState({\n                                    innerValue: e.target.value\n                                })\n                            }\n                            this.props.onChange(e)\n                        }}\n                    />\n                </div>\n                <p>\n                    {!rule.test(this.value) && message}\n                </p>\n            </div>\n\n        )\n    }\n    componentDidMount() {\n        this.setState({\n            innerValue: this.props.defaultValue\n        })\n    }\n}\n\nexport default Input\n\n\n"]},"metadata":{},"sourceType":"module"}